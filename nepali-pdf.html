<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nepali PDF Table Extractor | brihatools</title>
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body class="min-h-screen bg-slate-50 text-slate-900">
    <nav class="flex h-14 items-center border-b border-slate-800 bg-slate-900 px-6 text-white">
      <a href="./index.html" class="flex items-center gap-3 text-lg font-semibold tracking-tight">
        <img src="/brihatech.svg" alt="Brihatech" class="h-8 w-auto" />
        <span>brihatools</span>
      </a>
    </nav>

    <main class="mx-auto max-w-6xl px-6 py-12">
      <section class="mb-10 flex flex-wrap items-end justify-between gap-6">
        <div>
          <h1 class="text-3xl font-semibold text-slate-900 md:text-4xl">Nepali PDF Table Extractor</h1>
          <p class="mt-2 max-w-2xl text-slate-600">
            Extract Nepali tables from PDF to Unicode CSV or Excel
          </p>
        </div>
      </section>

      <section class="grid gap-8 lg:grid-cols-[minmax(280px,380px)_minmax(0,1fr)]">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-xl shadow-slate-200/60">
          <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Input</h2>

          <div class="mt-4">
            <label class="text-sm text-slate-600" for="pdfInput">PDF file</label>
            <input
              id="pdfInput"
              type="file"
              accept="application/pdf"
              class="mt-2 block w-full cursor-pointer rounded-xl border-2 border-dashed border-slate-300 bg-slate-50 px-3 py-2.5 text-xs text-slate-700 transition-colors hover:border-slate-400 hover:bg-slate-100 file:mr-3 file:rounded-md file:border-0 file:bg-slate-900 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:uppercase file:tracking-[0.2em] file:text-white hover:file:bg-slate-800"
            />
            <div id="pdfStatus" class="mt-2 text-xs text-slate-500">No PDF selected</div>
            <div id="processingStatus" class="mt-1 flex items-center gap-2 text-xs text-slate-500" role="status" aria-live="polite">
              <span
                id="processingSpinner"
                class="hidden h-4 w-4 animate-spin rounded-full border-2 border-slate-300 border-t-slate-900"
                aria-hidden="true"
              ></span>
              <span id="processingText"></span>
            </div>
          </div>

          <div class="mt-6 border-t border-slate-200 pt-6">
            <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Export</h2>
            <div class="mt-4 grid gap-3 sm:grid-cols-2">
              <button
                id="downloadCsv"
                class="group flex w-full items-center justify-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-left transition hover:-translate-y-0.5 hover:border-slate-300 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-40"
                type="button"
                disabled
              >
                <img src="/icons/csv-icon.svg" alt="CSV" class="h-6 w-6" />
                <span class="flex flex-col">
                  <span class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-800">Download CSV</span>
                  <span class="text-xs text-slate-500">.csv</span>
                </span>
              </button>
              <button
                id="downloadXlsx"
                class="group flex w-full items-center justify-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-left transition hover:-translate-y-0.5 hover:border-slate-300 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-40"
                type="button"
                disabled
              >
                <img src="/icons/microsoft-excel-icon.svg" alt="Excel" class="h-6 w-6" />
                <span class="flex flex-col">
                  <span class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-800">Download Excel</span>
                  <span class="text-xs text-slate-500">.xlsx</span>
                </span>
              </button>
            </div>
            <div id="exportStatus" class="mt-3 text-xs text-slate-500"></div>
          </div>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-xl shadow-slate-200/60">
          <div class="flex flex-wrap items-center justify-between gap-4">
            <div>
              <h2 class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Preview</h2>
              <p class="mt-2 text-sm text-slate-600">
                Shows the first rows detected from the main table.
              </p>
            </div>
            <div class="text-xs text-slate-500" id="tableMeta"></div>
          </div>

          <div class="mt-4 overflow-auto rounded-xl border border-slate-200">
            <table class="min-w-full text-left text-sm" id="previewTable">
              <thead class="sticky top-0 bg-slate-50 text-xs uppercase tracking-[0.2em] text-slate-500">
                <tr id="previewHead"></tr>
              </thead>
              <tbody id="previewBody" class="divide-y divide-slate-100"></tbody>
            </table>
          </div>

          <div class="mt-3 text-xs text-slate-500" id="warning"></div>
        </div>
      </section>
    </main>

    <script type="module" src="/src/nepali-pdf/main.ts"></script>
  </body>
</html>

